
defineM("smart-cart",function(J,a,b){function D(a){var b={};a=decodeURIComponent(a);-1!==a.indexOf("data:application/json,")?(a=a.replace("data:application/json,",""),a=a.replace(/\'/gm,'"'),b=JSON.parse(a)):a.split("&").forEach(function(a){a=a.split("=");b[a[0]]=(a[1]||"").replace(/\+/g," ")});return b}function z(a,b){var c=D(a),d=JSON.stringify([c.item_name,Number(c.amount),c.currency_code]);b=String(b).split(/_(?=[^_]*$)/);return A(d,b[1]).then(function(a){return"https://p.electricblaze.com/stripe/buy?"+
$.param($.extend(c,{account:b[0],sign:a}))})}function G(a,b){return"nopayment"===b.paymentSystem?Promise.resolve("mbrext://smart-cart?"+a+"&nopayment_"+b.paymentType+"="+b.NOPAYMENT_KEY):"stripe"===b.paymentSystem?z(a,b.ACCOUNT_KEY):Promise.resolve("https://www.paypal.com/cgi-bin/webscr?"+a)}function H(a){for(var b,c=[],d=/(<a[^>]+href=")mbrext:\/\/smart-cart[^?"]*\?([^"]+)/g;null!==(b=d.exec(a));)c.push({all:b[0],prefix:b[1],query:b[2]});return c}function I(a){for(var b,c=[],d=/<script[^>]*src=["'][^"']*smart-cart[^"']*["'][^>]*><\/script>\s*/gmi,
k=/<link[^>]*href=["'][^"']*smart-cart[^"']*["'][^>]*>\s*/gi;null!==(b=d.exec(a));)c.push({all:b[0],prefix:b[1],query:b[2]});for(;null!==(b=k.exec(a));)c.push({all:b[0],prefix:b[1],query:b[2]});return c}function r(a){return"string"===typeof a&&80===a.length}function t(a){return"string"===typeof a&&/^acct_.+_[0-9A-Za-z]{32,43}$/.test(a)}function x(a){return"string"===typeof a&&""!==a}function p(a){a=$(a);a.spectrum({color:a.val()||"",showInput:!0,allowEmpty:!0,showButtons:!1,preferredFormat:"hex",
showPaletteOnly:!0,appendTo:smartCartDialog,togglePaletteOnly:!0,togglePaletteMoreText:"More >",togglePaletteLessText:"Less <",palette:["#7ac673 #1ABC9C #27aae0 #2C82C9 #9365B8 #4c6972 #FFFFFF".split(" "),"#41A85F #00A885 #3D8EB9 #2969B0 #553982 #475577 #EFEFEF".split(" "),"#F7DA64 #faaf40 #EB6B56 #E25041 #A38F84 #28324E #CCCCCC".split(" "),"#FAC51C #f97352 #D14841 #B8312F #7C706B #000000 #c1c1c1".split(" ")]})}function B(){a.projectSettings=a.projectSettings||{};"string"==typeof(a.projectSettings&&
a.projectSettings.mcSmartCart)&&(a.projectSettings.mcSmartCart={email:a.projectSettings.mcSmartCart});return $.extend({iconSize:"50",iconColor:"#ffffff",backColor:"#14142b",topOffset:"150",rightOffset:"20",siteWidth:"1150",counterSize:"16",counterColor:"#14142b",counterBack:"#fedb01",checkoutLabelButton:"Add to Cart",cart_title:"Your Cart",buy_now:"Buy now"},a.projectSettings&&a.projectSettings.mcSmartCart)}function E(b){a.projectSettings=a.projectSettings||{};"string"==typeof(a.projectSettings&&
a.projectSettings.mcSmartCart)&&(a.projectSettings.mcSmartCart={email:a.projectSettings.mcSmartCart});"object"!=typeof a.projectSettings.mcSmartCart&&(a.projectSettings.mcSmartCart={});$.extend(a.projectSettings.mcSmartCart,b)}var u=null,A=function(){function a(b){return(new TextEncoder).encode(b)}function b(a){var d="";a=new Uint8Array(a);for(var k=a.byteLength,f=0;f<k;f++)d+=String.fromCharCode(a[f]);return window.btoa(d).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}return function(c,
d){return crypto.subtle.importKey("raw",a(d),{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then(function(b){return crypto.subtle.sign({name:"HMAC"},b,a(c))}).then(b)}}();a.regExtension({name:"smart-cart",global:{smartCartRunSettings:function(){function m(){var a=c.find("#smart-cart"),b=c.find("#smart-cart #smart-cart-qty");a.css("color",c.find("input[name=iconColor]").val());a.css("background-color",c.find("input[name=backColor]").val());a.css("font-size",c.find("input[name=iconSize]").val()+"px");a.css("height",
function(a){a=c.find("input[name=iconSize]").val();return a=Number(a)+Number("20")+"px"});a.css("width",function(a){a=c.find("input[name=iconSize]").val();return a=Number(a)+Number("20")+"px"});b.css("color",c.find("input[name=counterColor]").val());b.css("background-color",c.find("input[name=counterBack]").val());b.css("font-size",c.find("input[name=counterSize]").val()+"px");a.css("position","relative");a.css("display","flex")}var q=B(),c=a.showDialog({title:b("Smart Cart Settings"),className:"smart-cart-dialog",
id:"smartCartDialog",body:'<div class="row">\n                            <div id="smart-cart" class="form-group col-md-12" style="width: initial;">\n                                <svg id="" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                                    <path\n                                        d="M21 19H5.2l-3-15H0V2h3.8l.8 4H23l-1.2 9H6.4l.4 2H21v2zM6 13h14l.7-5H5l1 5zm2 7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" />\n                                </svg>\n                                <span id="smart-cart-qty" style="display: block;">12</span>\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label> '+
b("Icon Size")+'</label>\n                                <input class="form-control pull-right" name="iconSize" type="number" value="">\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label>'+b("Icon Color")+'</label>\n                                <input name="iconColor" type="color" value="#ffffff">\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label>'+
b("Back Color")+'</label>\n                                <input class="" name="backColor" type="color" value="#000000">\n                            </div>\n\n                            <div class="form-group col-md-12" style="border-top: 1px dotted #ddd;padding-top: 10px;">\n                                <label>'+b("Counter Size")+'</label>\n                                <input class=" form-control pull-right" name="counterSize" type="number" value="" min="5" max="50">\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label>'+
b("Counter Color")+'</label>\n                                <input class="" name="counterColor" type="color" value="#000000">\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label>'+b("Counter Back Color")+'</label>\n                                <input class="" name="counterBack" type="color" value="#ffffff">\n                            </div>\n\n                            <div class="form-group col-md-12" style="border-top: 1px dotted #ddd;padding-top: 10px;">\n                                <label>'+
b("Top Offset")+'</label>\n                                <input class=" form-control pull-right" name="topOffset" type="number" value="" min="0" max="2000">\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label>'+b("Right Offset")+'</label>\n                                <input class="form-control pull-right" name="rightOffset" type="number" value="" min="0" max="2000">\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label>'+
b("Site Width")+'</label>\n                                <input class="form-control pull-right" name="siteWidth" type="number" value="" min="1" max="10000">\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label class="">'+b("Button Text")+'</label>\n                                <input class="form-control" name="checkoutButton" type="text" value="">\n                            </div>\n\n                            <div class="form-group col-md-12">\n                                <label class="">'+
b("Cart Title")+'</label>\n                                <input class="form-control" name="cartTitle" type="text" value="">\n                            </div>\n                        </div>',buttons:{save:{label:"Save settings",className:"shopcart-settings-save-btn",default:!0,callback:function(){E(q)}}}});c.find(".modal-dialog").css("width","320px");c.find(".bootbox-body").css("display","flex");c.find(".bootbox-body").css("flex-direction","column");for(var d in q)c.find("input[name="+d+"]").val(q[d]);
m();c.find("input").change(function(){q[$(this).prop("name")]=$(this).val();m()});p(c.find("input[name=iconColor]"));p(c.find("input[name=backColor]"));p(c.find("input[name=counterColor]"));p(c.find("input[name=counterBack]"))}},filters:{uploadFilesStart:function(b){return b.then(function(b,c){function d(){return a.projectSettings.cookiesAlert&&("2"===a.projectSettings.cookiesAlertType||"3"===a.projectSettings.cookiesAlertType)}var k=$.Deferred();if(a.publishPages&&!Object.keys(a.publishPages).length)return k.resolve(b,
c);var f=$.extend({paymentSystem:"paypal"},a.projectSettings.mcSmartCart||{});if("stripe"===f.paymentSystem&&!f.ACCOUNT_KEY)return k.resolve(b,c);var h=B(),e={shopcart_top_offset:parseInt(h.topOffset),side_offset:parseInt(h.rightOffset),site_width:parseInt(h.siteWidth),shopcart_icon_color:h.iconColor,shopcart_back_color:h.backColor,shopcart_icon_size:parseInt(h.iconSize),sc_count_color:h.counterColor,sc_count_back_color:h.counterBack,sc_count_size:parseInt(h.counterSize),buy_now:h.buy_now,cart_title:h.cart_title,
popup_button:h.checkoutLabelButton},g="cart_title buy_now_title total stripe_button whatsapp_button whatsapp_message".split(" ");a.projectSettings.mcSmartCart&&$(g).each(function(){a.projectSettings.mcSmartCart[this]&&(e[this]=a.projectSettings.mcSmartCart[this])});g=Object.keys(a.publishPages).reduce(function(b,d){return b.concat(H(a.publishPages[d]).map(function(b){return G(b.query,f).then(function(c){a.publishPages[d]=a.publishPages[d].replace(b.all,b.prefix+c)})}))},[]);g.length&&Object.keys(a.publishPages).map(function(b){a.publishPages[b]=
a.publishPages[b].replace("<body>","<body>\n"+(d()?'<script type="text/plain">':"<script>")+("var smartCartDefSettings = "+JSON.stringify(e)+";\n                                \x3c/script>"));if(a.projectSettings.mcSmartCart){var c=a.projectSettings.mcSmartCart.CLIENT_ID;c&&h.currency&&(a.publishPages[b]=a.publishPages[b].replace("<body>","<body>\n\n                                <"+(d()?'script type="text/plain"':"script")+' id="smartCartPayPal" '+(d()?"data-src":"src")+'="https://www.paypal.com/sdk/js?client-id='+
c+"&currency="+h.currency+'">\x3c/script>'))}});g.length||(b=b.filter(function(a){return!a.dest.includes("smart-cart")}),g=Object.keys(a.publishPages).reduce(function(b,d){return b.concat(I(a.publishPages[d]).map(function(b){return Promise.resolve(a.publishPages[d]=a.publishPages[d].replace(b.all,""))}))},[]));Promise.all(g).then(function(){k.resolve(b,c)});return k})}},events:{showedLinkDialog:function(m){function q(){var a=d.find("[name=smc-paypal-client-id]"),b=d.find("[name=smc-stripe-account-key]"),
c=d.find("[name=smc-nopayment-account-key]");a.val("");b.val("");c.val("");t(b.val())||r(a.val())?(b.removeClass("error"),b.css("backgroundColor","transparent"),b.attr("style",b.attr("style").replace(/color.+?;/,"")),a.removeClass("error"),a.css("backgroundColor","transparent"),a.attr("style",a.attr("style").replace(/color.+?;/,""))):(t(b.val())?(b.removeClass("error"),b.css("backgroundColor","transparent"),b.attr("style",b.attr("style").replace(/color.+?;/,""))):(b.addClass("error"),$("body").is(".dark-mode")?
b.css("backgroundColor","#ff6666"):b.css("backgroundColor","#ffe9e9"),$(d).parent().find(".modal-footer .btn-primary").addClass("disabled")),r(a.val())?(a.removeClass("error"),a.css("backgroundColor","transparent"),a.attr("style",a.attr("style").replace(/color.+?;/,""))):(a.addClass("error"),$("body").is(".dark-mode")?a.css("backgroundColor","#ff6666"):a.css("backgroundColor","#ffe9e9"),$(d).parent().find(".modal-footer .btn-primary").addClass("disabled")))}function c(){var a=u.find("#smartCart input[name=smc-item-name]"),
b=u.find("#smartCart input[name=smc-item-price]"),c=u.find("#smartCart select[name=smc-item-price-cur]"),f=u.find("#smartCart input[name=smc-paypal-type]"),h=!1;f.each(function(){$(this).prop("checked")&&(f=$(this).val())});var k;if("_cart"===f||"_xclick"===f)k={cmdsm:f,amount:b.val(),item_name:a.val(),currency_code:c.val(),dataShop:"smartCart"};E({currency:c.val()});var a=d.find("[name=smc-item-name]"),b=d.find("[name=smc-item-price]"),c=d.find("[name=smc-paypal-client-id]"),e=d.find("[name=smc-stripe-account-key]"),
g=d.find("[name=smc-nopayment-account-key]");a.val()?(a.removeClass("error"),a.css("backgroundColor","transparent"),a.attr("style",a.attr("style").replace(/color.+?;/,""))):(a.addClass("error"),$("body").is(".dark-mode")?a.css("backgroundColor","#ff6666"):$(this).css("backgroundColor","#ffe9e9"),$(d).parent().find(".modal-footer .btn-primary").addClass("disabled"));b.val()?(b.removeClass("error"),b.css("backgroundColor","transparent"),b.attr("style",b.attr("style").replace(/color.+?;/,""))):(b.addClass("error"),
$("body").is(".dark-mode")?b.css("backgroundColor","#ff6666"):b.css("backgroundColor","#ffe9e9"),$(d).parent().find(".modal-footer .btn-primary").addClass("disabled"));t(e.val())||r(c.val()&&!x(g.val()))?(e.removeClass("error"),e.css("backgroundColor","transparent"),e.attr("style",e.attr("style").replace(/color.+?;/,"")),c.removeClass("error"),c.css("backgroundColor","transparent"),c.attr("style",c.attr("style").replace(/color.+?;/,"")),g.removeClass("error"),g.css("backgroundColor","transparent"),
g.attr("style",c.attr("style").replace(/color.+?;/,""))):(t(e.val())?(e.removeClass("error"),e.css("backgroundColor","transparent"),e.attr("style",e.attr("style").replace(/color.+?;/,""))):(e.addClass("error"),$("body").is(".dark-mode")?e.css("backgroundColor","#ff6666"):e.css("backgroundColor","#ffe9e9"),$(d).parent().find(".modal-footer .btn-primary").addClass("disabled")),r(c.val())?(c.removeClass("error"),c.css("backgroundColor","transparent"),c.attr("style",c.attr("style").replace(/color.+?;/,
""))):(c.addClass("error"),$("body").is(".dark-mode")?c.css("backgroundColor","#ff6666"):c.css("backgroundColor","#ffe9e9"),$(d).parent().find(".modal-footer .btn-primary").addClass("disabled")),x(g.val())?(g.removeClass("error"),g.css("backgroundColor","transparent"),g.attr("style",g.attr("style").replace(/color.+?;/,""))):(g.addClass("error"),$("body").is(".dark-mode")?g.css("backgroundColor","#ff6666"):g.css("backgroundColor","#ffe9e9"),d.parent().find(".modal-footer .btn-primary").addClass("disabled")));
a.val()&&b.val()&&(t(e.val())||r(c.val())||x(g.val()))?($(d).parent().find(".modal-footer .btn-primary").removeClass("disabled").removeAttr("disabled"),h=!0):$(d).parent().find(".modal-footer .btn-primary").addClass("disabled").attr("disabled","disabled");h&&(h="mbrext://smart-cart?"+$.param(k),u.find(".note-mbr-custom-url").val(h))}if(!a.isAMP()&&"secondary"===a.theme.type){u=m.find(".modal-body");var d=m.find(".modal-body"),k=m.find(".note-mbr-url"),f=m.find(".note-mbr-custom-url"),f=k.val()||f.val(),
f=D(f.substring(f.indexOf("?")+1));a.getUserInfo();B();m=m.find("input.note-mbr-text").val()||"My product title";for(var h=/smartCart/.test(f.dataShop),e=[{title:"Australian Dollar",value:"AUD"},{title:"Brazilian Real",value:"BRL"},{title:"Canadian Dollar",value:"CAD"},{title:"Czech Koruna",value:"CZK"},{title:"Danish Krone",value:"DKK"},{title:"Euro",value:"EUR"},{title:"Hong Kong Dollar",value:"HKD"},{title:"Hungarian Forint",value:"HUF"},{title:"Israeli New Sheqel",value:"ILS"},{title:"Japanese Yen",
value:"JPY"},{title:"Malaysian Ringgit",value:"MYR"},{title:"Mexican Peso",value:"MXN"},{title:"Norwegian Krone",value:"NOK"},{title:"New Zealand Dollar",value:"NZD"},{title:"Philippine Peso",value:"PHP"},{title:"Polish Zloty",value:"PLN"},{title:"Pound Sterling",value:"GBP"},{title:"Russian Ruble",value:"RUB"},{title:"Singapore Dollar",value:"SGD"},{title:"South African rand",value:"ZAR"},{title:"Swedish Krona",value:"SEK"},{title:"Swiss Franc",value:"CHF"},{title:"Taiwan New Dollar",value:"TWD"},
{title:"Thai Baht",value:"THB"},{title:"Indian rupee",value:"INR"},{title:"Turkish Lira",value:"TRY"},{title:"U.S. Dollar",value:"USD",default:!0}],g=a.projectSettings.mcSmartCart?a.projectSettings.mcSmartCart.currency:f.currency_code||"USD",n="",v=!1,l=0;l<e.length;l++)n+='<option value="'+e[l].value+'"'+(g==e[l].value?" selected":"")+">"+e[l].title+"("+e[l].value+")</option>",g==e[l].value&&(v=!0);!v&&g&&(n+='<option value="'+g+'" selected>'+g+" Currency</option>");e='<li>\n                        <a href="#smartCart" data-toggle="tab">'+
b("Smart Cart")+"</a>\n                    </li>";n='<div class="tab-pane" id="smartCart">\n                    <div id="smartCartControlNew">\n                        <div id="smartCartControl" class="row form-group"\n                            style="margin-left:-10px;margin-right:-10px;display:flex;flex-wrap:wrap;">\n                            <div class="col">\n                                <div class="row" style="display:flex;flex-wrap:wrap;">\n                                    <label class="col-sm-12">'+
b("Payment System")+'</label>\n                                    <div class="radio radio-success smc-ps-type col-sm-12 col-md-12"\n                                        style="margin:0;margin-bottom:5px;" data-type="add">\n                                        <label>\n                                            <input name="smc-ps-type" value="paypal" type="radio" checked>\n                                            <span class="circle"></span>\n                                            <span class="check"></span>\n                                            '+
b("Paypal (Smart Checkout)")+'\n                                        </label>\n                                    </div>\n                                    <div class="radio radio-success smc-ps-type col-sm-12 col-md-12"\n                                        style="margin:0;margin-bottom:5px;" data-type="buy">\n                                        <label>\n                                            <input name="smc-ps-type" value="stripe" type="radio">\n                                            <span class="circle"></span>\n                                            <span class="check"></span>\n                                            '+
b("Stripe")+'\n                                        </label>\n                                    </div>\n                                    <div class="radio radio-success smc-ps-type col-sm-12 col-md-12"\n                                        style="margin:0;margin-bottom:5px;" data-type="buy">\n                                        <div class="form-group">\n                                            <label>\n                                                <input name="smc-ps-type" value="nopayment" type="radio">\n                                                <span class="circle"></span>\n                                                <span class="check"></span>\n                                                '+
b("Order on WhatsApp")+'\n                                            </label>\n                                            <select name="smc-payment-type" class="form-control hidden">\n                                                <option value="whatsapp" selected>Whatsapp</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="col">\n                                <div class="row" style="display:flex;flex-wrap:wrap;">\n                                    <label class="col-sm-12">'+
b("Action")+'</label>\n                                    <div class="radio radio-success smc-paypal-type col-sm-12 col-md-12"\n                                        style="margin:0;margin-bottom:5px;" data-type="add">\n                                        <label>\n                                            <input name="smc-paypal-type" value="_cart" type="radio" checked>\n                                            <span class="circle"></span>\n                                            <span class="check"></span>\n                                            '+
b("Add to Cart")+'\n                                        </label>\n                                    </div>\n                                    <div class="radio radio-success smc-paypal-type col-sm-12 col-md-12"\n                                        style="margin:0;margin-bottom:5px;" data-type="buy">\n                                        <label>\n                                            <input name="smc-paypal-type" value="_xclick" type="radio">\n                                            <span class="circle"></span>\n                                            <span class="check"></span>\n                                            '+
b("Buy Now")+'\n                                        </label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="row form-group" style="margin-left:-10px;margin-right:-10px;display:flex;flex-wrap:wrap;">\n                            <div class="col-sm-12 col-md-12" data-ps="paypal" style="padding-bottom:8px">\n                                <label>'+b("PayPal Client ID")+
'</label>\n                                <a id="client-id-info" href="javascript:void(0)">'+b("How to get Client Id?")+'</a>\n                                <input name="smc-paypal-client-id" class="form-control" type="text"\n                                    placeholder="'+b("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")+'">\n                            </div>\n                            <div class="col-sm-12 col-md-12" data-ps="stripe" style="padding-bottom:8px">\n                                <label>'+
b("Stripe Account Key")+'</label>\n                                <a id="account-key-info" href="javascript:void(0)">'+b("How to get Account Key?")+'</a>\n                                <input name="smc-stripe-account-key" class="form-control" type="text"\n                                    placeholder="'+b("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")+'">\n                            </div>\n                            <div class="col-sm-12 col-md-12" data-ps="nopayment" style="padding-bottom:8px">\n                                <label>'+
b("WhatsApp Number")+'</label>\n                                <input name="smc-nopayment-account-key" class="form-control" type="text"\n                                    placeholder="'+b("+1234567890")+'">\n                            </div>\n                            <div class="col-sm-12 col-md-6" style="padding-bottom:8px">\n                                <label for="smc-item-name">\n                                    '+b("Item Title")+'\n                                </label>\n                                <input name="smc-item-name" class="form-control" type="text"\n                                    placeholder="'+
b("My Product Title")+'">\n                            </div>\n                            <div class="col-sm-12 col-md-6" style="padding-bottom:8px">\n                                <label style="width:100%" for="edit-captions-btn">\n                                    '+b("Cart Captions")+'\n                                </label>\n                                <a style="margin:0" class="" id="edit-captions-btn">Edit Captions</a>\n                            </div>\n                            <div class="col-sm-12 col-md-6" style="padding-bottom:8px">\n                                <label for="smc-item-price">'+
b("Price")+'</label>\n                                <input name="smc-item-price" class="form-control" type="number" step="1.00"\n                                    placeholder="'+b("ex. 5.00")+'" style="padding: 5px 10px;">\n                            </div>\n                            <div class="col-sm-12 col-md-6" style="padding-bottom:8px">\n                            </div>\n                            <div class="col-sm-12 col-md-6" style="padding-bottom:8px">\n                                <label>'+
b("Currency")+'</label>\n                                <select class="form-control" name="smc-item-price-cur">\n                                    '+n+"\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                </div>";d.find(".nav-tabs").append($(e));d.find(".tab-content").append(n);n=d.find(".smc-settings").closest("button");h&&(k.val(""),setTimeout(function(){d.find('.nav-tabs a[href="#smartCart"]').tab("show")},
10));var k=d.find("input[name=smc-item-name]"),e=d.find("input[name=smc-item-price]"),v=d.find("select[name=smc-item-price-cur]"),l=d.find("input[name=smc-paypal-client-id]"),p=d.find("input[name=smc-stripe-account-key]"),C=d.find("input[name=smc-nopayment-account-key]"),y=d.find("select[name=smc-payment-type]"),w=d.find("#smartCart input[name=smc-paypal-type]"),F=d.find("#smartCart input[name=smc-ps-type]"),z=d.find("#smartCart #client-id-info"),A=d.find("#smartCart #account-key-info");a.projectSettings.mcSmartCart&&
h?(l.val(a.projectSettings.mcSmartCart.CLIENT_ID||""),p.val(a.projectSettings.mcSmartCart.ACCOUNT_KEY||""),C.val(a.projectSettings.mcSmartCart.NOPAYMENT_KEY||"")):(l.val(""),p.val(""),C.val(""));d.find("#edit-captions-btn").click(function(c){a.showDialog({title:b("Edit Captions"),className:"edit-captions-dialog",id:"edit-captions",body:'\n                            <div class="from-group row">\n                                <div class="col-sm-12 col-md-12" style="padding-bottom:8px">\n                                    <label for="cart_title">\n                                        '+
b("Cart Title")+'\n                                    </label>\n                                    <input name="cart_title" class="form-control" type="text"\n                                        placeholder="'+b("Your Cart")+'">\n                                </div>\n                                <div class="col-sm-12 col-md-12" style="padding-bottom:8px">\n                                    <label for="buy_now_title">\n                                        '+b("Buy Now Title")+'\n                                    </label>\n                                    <input name="buy_now_title" class="form-control" type="text"\n                                        placeholder="'+
b("Buy Now")+'">\n                                </div>\n                                <div class="col-sm-12 col-md-12" style="padding-bottom:8px">\n                                    <label for="total">\n                                        '+b("Total")+'\n                                    </label>\n                                    <input name="total" class="form-control" type="text"\n                                        placeholder="'+b("Total")+'">\n                                </div>\n                                <div class="col-sm-12 col-md-12" data-ps="stripe" style="padding-bottom:8px">\n                                    <label for="stripe_button">\n                                        '+
b("Stripe Button")+'\n                                    </label>\n                                    <input name="stripe_button" class="form-control" type="text"\n                                        placeholder="'+b("Pay")+'">\n                                </div>\n                                <div class="col-sm-12 col-md-12" data-ps="nopayment" style="padding-bottom:8px">\n                                    <label for="whatsapp_button">\n                                        '+b("WhatsApp Button")+
'\n                                    </label>\n                                    <input name="whatsapp_button" class="form-control" type="text"\n                                        placeholder="'+b("Order on WhatsApp")+'">\n                                </div>\n                                <div class="col-sm-12 col-md-12" data-ps="nopayment" style="padding-bottom:8px">\n                                    <label for="whatsapp_message">\n                                        '+b("WhatsApp Message")+
'\n                                    </label>\n                                    <input name="whatsapp_message" class="form-control" type="text"\n                                        placeholder="'+b("Hi, I\u2019d like to order the following:")+'">\n                                </div>\n                            </div>\n                            ',show:function(b){b.find("input[name=cart_title], input[name=buy_now_title], input[name=total], input[name=stripe_button], input[name=whatsapp_button], input[name=whatsapp_message]").each(function(){a.projectSettings.mcSmartCart&&
a.projectSettings.mcSmartCart[$(this).attr("name")]&&$(this).val(a.projectSettings.mcSmartCart[$(this).attr("name")]);$(this).on("change",function(){a.projectSettings.mcSmartCart[$(this).attr("name")]=this.value})})},buttons:{save:{label:"Ok",className:"edit-captions-save-btn",default:!0,callback:function(){}}}})});a.projectSettings.mcSmartCart&&a.projectSettings.mcSmartCart.paymentType&&y.val(a.projectSettings.mcSmartCart.paymentType);F.each(function(b,c){a.projectSettings.mcSmartCart?$(c).val()===
a.projectSettings.mcSmartCart.paymentSystem?($(c).prop("checked",!0),$("[data-ps]").each(function(a,b){$(b).attr("data-ps")===$(c).val()?$(b).show():$(b).hide()})):"paypal"===$(c).val()?($(c).prop("checked",!0),$("[data-ps]").each(function(a,b){"paypal"===$(b).attr("data-ps")?$(b).show():$(b).hide()})):$(c).prop("checked",!1):"paypal"===$(c).val()?($("[data-ps]").each(function(a,b){"paypal"===$(b).attr("data-ps")?$(b).show():$(b).hide()}),$(c).prop("checked",!0)):$(c).prop("checked",!1)});z.click(function(){return a.openUrl("https://electricblaze.com/smart-cart/how-to-get-client-id.html#features11-1")});
A.click(function(){return a.openUrl("https://electricblaze.com/smart-cart/how-to-get-client-id.html")});l.on("change",function(b){a.projectSettings.mcSmartCart||(a.projectSettings.mcSmartCart={});r(b.target.value)&&(a.projectSettings.mcSmartCart.CLIENT_ID=b.target.value);c()});y.on("change",function(b){a.projectSettings.mcSmartCart||(a.projectSettings.mcSmartCart={});a.projectSettings.mcSmartCart.paymentType=b.target.value});p.on("change",function(b){a.projectSettings.mcSmartCart||(a.projectSettings.mcSmartCart=
{});t(b.target.value)&&(a.projectSettings.mcSmartCart.ACCOUNT_KEY=b.target.value);c()});C.on("change",function(b){a.projectSettings.mcSmartCart||(a.projectSettings.mcSmartCart={});x(b.target.value)&&(a.projectSettings.mcSmartCart.NOPAYMENT_KEY=b.target.value);c()});v.val(g);if("_xclick"==f.cmdsm||"_xclick"==f.type)w.parent().find("[value=_cart]").prop("checked",!1),w.parent().find("[value=_xclick]").prop("checked",!0);if("_cart"==f.cmdsm||"_cart"==f.type)w.parent().find("[value=_cart]").prop("checked",
!0),w.parent().find("[value=_xclick]").prop("checked",!1);w.change(function(a,b){d.find("label[for=smc-item-price]").html("Price");d.find("input[name=smc-item-price]").attr("placeholder","ex. 5.00");d.find("input[name=smc-item-price]").attr("type","number");d.find("[name=smc-item-oldprice]").parent().show();d.find('[name="variants"]').parents(".togglebutton").show();d.find('[class*="item-options"]').each(function(){$(this).find(".variant").length&&$(this).show()});c()});k.val(f.item_name||m);e.val(f.amount||
f.item_number||"1.00");d.find("select[name=smc-item-price-cur]").dropdown({align:"right"});d.find("select[name=smc-item-time]").dropdown({align:"right"});e.change(function(a){var b=d.find("input[name=smc-paypal-type]");b.each(function(){$(this).prop("checked")&&(b=$(this).val())});c()});k.change(function(){c()});v.change(function(){c()});F.change(function(b){var c=b.target.value;a.projectSettings.mcSmartCart?("nopayment"!==c?delete a.projectSettings.paymentType:a.projectSettings.mcSmartCart.paymentType=
y.val(),delete a.projectSettings.mcSmartCart.ACCOUNT_KEY,delete a.projectSettings.mcSmartCart.NOPAYMENT_KEY,delete a.projectSettings.mcSmartCart.CLIENT_ID,a.projectSettings.mcSmartCart.paymentSystem=c):(a.projectSettings.mcSmartCart={paymentSystem:c},"nopayment"===c&&(a.projectSettings.mcSmartCart.paymentType=y.val()));$("[data-ps]").each(function(a,b){$(b).attr("data-ps")===c?$(b).show():$(b).hide()});q();a.projectSettings.mcSmartCart?a.projectSettings.mcSmartCart.paymentSystem=b.target.value:a.projectSettings.mcSmartCart=
{paymentSystem:b.target.value}});$("#smartCartControl .smc-paypal-type input").change(function(){$("#smartCartControl .smc-paypal-type input").prop("checked",!1);$(this).prop("checked",!0);c()});n.click(this.smartCartRunSettings);c()}}}})},["jQuery","mbrApp","TR()"]);
