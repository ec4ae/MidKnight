
defineM("chatbutton",function(b,e,f){function m(b,a){return"undefined"===typeof b||null===b?"":(b+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+(a||"undefined"===typeof a?"<br />":"<br>")+"$2")}function k(b){var a=b.contents().find("body");b.css("height",a.find("#chatbutton-wa")[0].scrollHeight+115)}function n(){var b={},a=e.projectSettings.chatbutton;b.chatbuttonPopup=a.showPopup;b.phone=a.phone;b.headerTitle=a.headerTitle;b.popupMessage=a.popupMessage;b.placeholder=a.placeholder;b.defaultMessage=
a.message;b.position=a.position;b.headerColor=a.headerColor;b.backgroundColor=a.backgroundColor;b.autoOpenTimeout=a.autoOpenTimeout;b.size=a.size?a.size.substring(0,a.size.length-2):"";return b}var r={phone:"+12345678901",message:"",size:"65px",backgroundColor:"#e5ddd5",position:"left",popupMessage:"Hi!\ud83d\udc4b\n\nType a message here. It will go straight to our phone! \ud83d\udd25\n\nMobirise Team",showPopup:!0,showOnIE:!0,autoOpenTimeout:5,headerColor:"#39847a",headerTitle:"\ud83d\udc4b Chat with us on WhatsApp!",
placeholder:"Type here",zIndex:10};b.fn.floatingWhatsApp=function(d){function a(){g.hasClass("active")||(g.addClass("active"),h.focus())}var c=b.extend(r,d);d=b(document.createElement("div"));d.floatingWhatsAppLogo({size:"65px"});d.addClass("logo");this.append(d);this.addClass("floating-wpp");var g=b(document.createElement("div"));d=b(document.createElement("div"));var e=b(document.createElement("div")),f=b(document.createElement("div")),l=b(document.createElement("div")),h=b(document.createElement("textarea"));
h.css("overflow","hidden");var q=b(document.createElement("strong")),t=b('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 18" width="36" height="36"><circle cx="10" cy="9" r="10" fill="'+c.headerColor+'"/><defs><path id="a" d="M6.2 4.4H16v9.4H6.2z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><path d="M6.2 4.4v4.1L14 9l-7.8.7v4.1L16 9 6.2 4.4z" fill="#fff"/></g></svg>');g.addClass("floating-wpp-popup");
g.addClass("active");d.addClass("floating-wpp-head");e.addClass("floating-wpp-message");l.addClass("floating-wpp-input-message");f.addClass("floating-wpp-btn-send");e.html(m(c.popupMessage));h.val(c.message);h.attr("rows","1");h.attr("placeholder",c.placeholder);c.popupMessage||e.hide();d.append("<span>"+c.headerTitle+"</span>",q).css("background-color",c.headerColor);f.append(t);l.append(h,f);q.addClass("close").html("&#10006;");g.append(d,e,l).appendTo(this);g.css("background-color",c.backgroundColor);
l.css("background-color",c.backgroundColor);e.click(function(){});q.click(function(){});h.keypress(function(a){c.message=b(this).val()});f.click(function(){c.message=h.val();var b;b="http://wa.me/"+c.phone.replace("+","");window.open(b)});this.mouseenter(function(){a()});0<c.autoOpenTimeout&&setTimeout(function(){a()},c.autoOpenTimeout);c.zIndex&&b(this).css("z-index",c.zIndex);"right"===c.position&&(this.css({left:"auto",right:"15px"}),g.css("right","0"))};b.fn.floatingWhatsAppLogo=function(d){d=
b.extend({size:"65px",backgroundColor:"transparent",position:"right",showOnIE:!0},d);var a=b(document.createElement("div")),c=b(document.createElement("div"));c.addClass("floating-wpp-button-image");b(this).css({position:"fixed",bottom:"20px",right:"80px"});a.addClass("floating-wpp-button").css({width:d.size,height:d.size,"background-color":d.backgroundColor,position:"relative","border-radius":"50%","box-shadow":"1px 1px 4px rgba(60, 60, 60, 0.4)",transition:"box-shadow 0.2s",cursor:"pointer",overflow:"hidden"});
a.find("svg").css({position:"absolute",width:"100%",height:"auto","object-fit":"cover",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)","border-radius":"50%"});c.append('<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 800 800" width="65" height="65"><defs><clipPath id="_clipPath_A3g8G5hPEGG2L0B6hFCxamU4cc8rfqzQ"><rect width="800" height="800"/></clipPath></defs><g clip-path="url(#_clipPath_A3g8G5hPEGG2L0B6hFCxamU4cc8rfqzQ)"><g><path d=" M 787.59 800 L 12.41 800 C 5.556 800 0 793.332 0 785.108 L 0 14.892 C 0 6.667 5.556 0 12.41 0 L 787.59 0 C 794.444 0 800 6.667 800 14.892 L 800 785.108 C 800 793.332 794.444 800 787.59 800 Z " fill="rgb(37,211,102)"/></g><g><path d=" M 508.558 450.429 C 502.67 447.483 473.723 433.24 468.325 431.273 C 462.929 429.308 459.003 428.328 455.078 434.22 C 451.153 440.114 439.869 453.377 436.434 457.307 C 433 461.236 429.565 461.729 423.677 458.78 C 417.79 455.834 398.818 449.617 376.328 429.556 C 358.825 413.943 347.008 394.663 343.574 388.768 C 340.139 382.873 343.207 379.687 346.155 376.752 C 348.804 374.113 352.044 369.874 354.987 366.436 C 357.931 362.999 358.912 360.541 360.875 356.614 C 362.837 352.683 361.857 349.246 360.383 346.299 C 358.912 343.352 347.136 314.369 342.231 302.579 C 337.451 291.099 332.597 292.654 328.983 292.472 C 325.552 292.301 321.622 292.265 317.698 292.265 C 313.773 292.265 307.394 293.739 301.996 299.632 C 296.6 305.527 281.389 319.772 281.389 348.752 C 281.389 377.735 302.487 405.731 305.431 409.661 C 308.376 413.592 346.949 473.062 406.015 498.566 C 420.062 504.634 431.03 508.256 439.581 510.969 C 453.685 515.451 466.521 514.818 476.666 513.302 C 487.978 511.613 511.502 499.06 516.409 485.307 C 521.315 471.55 521.315 459.762 519.842 457.307 C 518.371 454.851 514.446 453.377 508.558 450.429 Z  M 401.126 597.117 L 401.047 597.117 C 365.902 597.104 331.431 587.661 301.36 569.817 L 294.208 565.572 L 220.08 585.017 L 239.866 512.743 L 235.21 505.332 C 215.604 474.149 205.248 438.108 205.264 401.1 C 205.307 293.113 293.17 205.257 401.204 205.257 C 453.518 205.275 502.693 225.674 539.673 262.696 C 576.651 299.716 597.004 348.925 596.983 401.258 C 596.939 509.254 509.078 597.117 401.126 597.117 Z  M 567.816 234.565 C 523.327 190.024 464.161 165.484 401.124 165.458 C 271.24 165.458 165.529 271.161 165.477 401.085 C 165.46 442.617 176.311 483.154 196.932 518.892 L 163.502 641 L 288.421 608.232 C 322.839 627.005 361.591 636.901 401.03 636.913 L 401.126 636.913 L 401.127 636.913 C 530.998 636.913 636.717 531.2 636.77 401.274 C 636.794 338.309 612.306 279.105 567.816 234.565" fill-rule="evenodd" fill="rgb(255,255,255)"/></g></g></svg>');
c.find("svg").css({width:"65px",height:"65px"});a.append(c).appendTo(this);a.on("click",function(a){a.preventDefault();a.stopPropagation();b(".app-layer-chatbutton").hasClass("app-layer-item-opened")||b('#app-project-sidebar > [data-tab="chatbutton"]').hasClass("open")||(e.openProjectSettings(e.projectPath+"/project.mobirise"),a=b(".app-layer-common"),a.removeClass("app-layer-item-opened"),a.find(".app-layer-close").click(),setTimeout(function(){b('#app-project-sidebar > [data-tab="chatbutton"]').click()},
100),b('#app-project-sidebar > [data-tab="common"]').removeClass("open"));b('#app-project-sidebar > [data-tab="common"]').removeClass("open")})};e.regExtension({name:"chatbutton",filters:{sidebarProjectSettings:function(d){var a=e.projectSettings.chatbutton||{},a={title:f("Chat Button"),name:"chatbutton",html:'<div class="form-group col-md-12"><div class="row"><label for="chatbuttonSwitcher" class="col control-label">'+f("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="chatbutton" id="chatbuttonSwitcher" '+
(a.enabled?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12"'+(a.enabled?">":' style="display:none">')+'<div class="row"><div class="col-md-12"><button class="btn btn-primary pull-right" id="chatbuttonButton" type="button">'+f("Edit")+"</button></div></div></div>"};if(-1===b.inArray(a,d))return d.push(a),d},publishHTML:function(d){var a=e.projectSettings.chatbutton||{};if(a.enabled){var c;if(e.isAMP()){c="http://wa.me/"+(a.phone.replace("+",
"")+"?text="+encodeURI(a.message));var g;g="http://wa.me/"+(a.phone.replace("+","")+"?text="+encodeURI(a.message));var f="data:image/svg+xml;charset=UTF-8,%3c?xml version='1.0' encoding='UTF-8' standalone='no'?%3e%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' style='isolation:isolate' viewBox='0 0 800 800' width='"+a.size+"' height='"+a.size+"'%3e%3cdefs%3e%3cclipPath id='_clipPath_A3g8G5hPEGG2L0B6hFCxamU4cc8rfqzQ'%3e%3crect width='800' height='800'/%3e%3c/clipPath%3e%3c/defs%3e%3cg clip-path='url(%23_clipPath_A3g8G5hPEGG2L0B6hFCxamU4cc8rfqzQ)'%3e%3cg%3e%3cpath d=' M 787.59 800 L 12.41 800 C 5.556 800 0 793.332 0 785.108 L 0 14.892 C 0 6.667 5.556 0 12.41 0 L 787.59 0 C 794.444 0 800 6.667 800 14.892 L 800 785.108 C 800 793.332 794.444 800 787.59 800 Z ' fill='rgb(37,211,102)'/%3e%3c/g%3e%3cg%3e%3cpath d=' M 508.558 450.429 C 502.67 447.483 473.723 433.24 468.325 431.273 C 462.929 429.308 459.003 428.328 455.078 434.22 C 451.153 440.114 439.869 453.377 436.434 457.307 C 433 461.236 429.565 461.729 423.677 458.78 C 417.79 455.834 398.818 449.617 376.328 429.556 C 358.825 413.943 347.008 394.663 343.574 388.768 C 340.139 382.873 343.207 379.687 346.155 376.752 C 348.804 374.113 352.044 369.874 354.987 366.436 C 357.931 362.999 358.912 360.541 360.875 356.614 C 362.837 352.683 361.857 349.246 360.383 346.299 C 358.912 343.352 347.136 314.369 342.231 302.579 C 337.451 291.099 332.597 292.654 328.983 292.472 C 325.552 292.301 321.622 292.265 317.698 292.265 C 313.773 292.265 307.394 293.739 301.996 299.632 C 296.6 305.527 281.389 319.772 281.389 348.752 C 281.389 377.735 302.487 405.731 305.431 409.661 C 308.376 413.592 346.949 473.062 406.015 498.566 C 420.062 504.634 431.03 508.256 439.581 510.969 C 453.685 515.451 466.521 514.818 476.666 513.302 C 487.978 511.613 511.502 499.06 516.409 485.307 C 521.315 471.55 521.315 459.762 519.842 457.307 C 518.371 454.851 514.446 453.377 508.558 450.429 Z M 401.126 597.117 L 401.047 597.117 C 365.902 597.104 331.431 587.661 301.36 569.817 L 294.208 565.572 L 220.08 585.017 L 239.866 512.743 L 235.21 505.332 C 215.604 474.149 205.248 438.108 205.264 401.1 C 205.307 293.113 293.17 205.257 401.204 205.257 C 453.518 205.275 502.693 225.674 539.673 262.696 C 576.651 299.716 597.004 348.925 596.983 401.258 C 596.939 509.254 509.078 597.117 401.126 597.117 Z M 567.816 234.565 C 523.327 190.024 464.161 165.484 401.124 165.458 C 271.24 165.458 165.529 271.161 165.477 401.085 C 165.46 442.617 176.311 483.154 196.932 518.892 L 163.502 641 L 288.421 608.232 C 322.839 627.005 361.591 636.901 401.03 636.913 L 401.126 636.913 L 401.127 636.913 C 530.998 636.913 636.717 531.2 636.77 401.274 C 636.794 338.309 612.306 279.105 567.816 234.565' fill-rule='evenodd' fill='rgb(255,255,255)'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";
g=['<amp-state id="chatState"><script type="application/json">{','"aplinkToChange": "'+g+'"',"}\x3c/script></amp-state>"].join("");c=b('<div id="chatbutton-wa" style="'+a.position+': auto; right: 15px; bottom: 15px; font-size: 14px; transition: bottom 0.2s; z-index: 999;"><div role="button" tabindex="0" on="tap:popup.toggleVisibility" class="floating-wpp-button" style="outline: none; display: block; width: '+a.size+"; height: "+a.size+'; border-radius: 50%; box-shadow: 1px 1px 4px rgba(60, 60, 60, 0.4); transition: box-shadow 0.2s; cursor: pointer; overflow: hidden;"><div class="floating-wpp-button-image"></div></div><div id="popup" hidden class="floating-wpp-popup" style="right: 0px; border-radius: 6px; background-color: '+
a.backgroundColor+'; position: absolute; overflow: hidden; padding: 0 12px 12px 12px; box-shadow: 1px 2px 8px rgba(60, 60, 60, 0.25); width: 280px; height: auto; bottom: 82px; opacity: 1; transition: bottom 0.1s ease-out, opacity 0.2s ease-out; transform-origin: bottom;"><div class="floating-wpp-head" style="background-color: '+a.headerColor+'; text-align: left; color: white; margin: 0 -15px 15px -15px; padding: 15px 15px; display: flex; flex-direction: column; justify-content: space-between; cursor: pointer;"><span style="line-height: 1;">'+
a.headerTitle+'</span><strong role="button" tabindex="0" class="close" style="outline: none; position: absolute; top: 14px; right: 8px; color: #ffffff; text-shadow: none; opacity: 1; font-size: inherit;" on="tap:popup.toggleVisibility">\u2716</strong></div><div class="floating-wpp-message" style="background-color: #ffffff; padding: 8px; border-radius: 7.5px 7.5px 7.5px 7.5px; box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.15); opacity: 1; transition: opacity 0.2s; transition-delay: 0.2s; max-width: 100%;">'+
m(a.popupMessage)+'</div><div class="floating-wpp-input-message" style="background-color: '+a.backgroundColor+'; margin: 5px -15px -15px -15px; padding: 0 15px; display: flex; align-items: center;"><textarea rows="1" placeholder="'+a.placeholder+'" on="input-throttled:AMP.setState({chatState: {message: event.value}})" style="resize: none;border: 1px solid #ffffff; border-radius: 21px; box-shadow: none; padding: 8px 12px; margin: 10px 0 15px 0; width: 100%; max-width: 100%; font-family: inherit; font-size: inherit; resize: none; outline: none; color: #4a4a4a; box-shadow: 1px 2px 8px rgba(60, 60, 60, 0.25);">'+
a.message+'</textarea><a [href]=chatState.aplinkToChange.concat(chatState.message) href="'+c+'" target="_blank" class="floating-wpp-btn-send" style="margin: 10px 0 15px 12px; font-size: 0; cursor: pointer; box-shadow: 1px 2px 8px rgba(60, 60, 60, 0.25); border-radius: 50%;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 18" width="36" height="36"><circle cx="10" cy="9" r="10" fill="'+a.headerColor+'"/><defs><path id="a" d="M6.2 4.4H16v9.4H6.2z"/></defs><clipPath id="b"><use xlink:href="#a" overflow="visible"/></clipPath><g clip-path="url(#b)"><path d="M6.2 4.4v4.1L14 9l-7.8.7v4.1L16 9 6.2 4.4z" fill="#fff"/></g></svg></a></div></div></div>');
d=d.replace(/(<style amp-custom)(.*?>)([\s\S]+?<\/style>)/gm,function(b,c,e,d){return c+"> .floating-wpp-button-image {width: "+a.size+"; height: "+a.size+'; background-image: url("'+f+'");} #chatbutton-wa{position:fixed;} .floating-wpp-button-image amp-img, .floating-wpp-button-image amp-img img{position: absolute; width: 100%; height: auto; object-fit: cover; top: 50%; left: 50%; transform: translate3d(-50%, -50%, 0); border-radius: 50%;}'+d});d=d.replace("</body>",g+"\n </body>");d=d.replace("</body>",
c[0].outerHTML+"\n </body>");/<script.*?(?=amp-user-notification-\d\.\d\.js).*?>/.test(d)||(d=d.replace("</head>",'  <script async custom-element="amp-user-notification" src="https://cdn.ampproject.org/v0/amp-user-notification-0.1.js">\x3c/script>\n  </head>'));/<script.*?(?=amp-social-share-\d\.\d\.js).*?>/.test(d)||(d=d.replace("</head>",'  <script async custom-element="amp-social-share" src="https://cdn.ampproject.org/v0/amp-social-share-0.1.js">\x3c/script>\n  </head>'));/<script.*?(?=amp-bind-\d\.\d\.js).*?>/.test(d)||
(d=d.replace("</head>",'  <script async custom-element="amp-bind" src="https://cdn.ampproject.org/v0/amp-bind-0.1.js">\x3c/script>\n  </head>'))}else{c=b('<div id="chatbutton-wa">');c.attr("data-phone",a.phone);a.showPopup&&c.attr("data-showpopup",a.showPopup);a.headerTitle&&c.attr("data-headertitle",a.headerTitle);a.popupMessage&&c.attr("data-popupmessage",a.popupMessage);a.placeholder&&c.attr("data-placeholder",a.placeholder);a.message&&c.attr("data-message",a.message);a.position&&c.attr("data-position",
a.position);a.headerColor&&c.attr("data-headerColor",a.headerColor);a.backgroundColor&&c.attr("data-backgroundColor",a.backgroundColor);a.autoOpenTimeout&&c.attr("data-autoOpenTimeout",a.autoOpenTimeout);a.size&&c.attr("data-size",a.size);g=b(document.createElement("div"));var p=b(document.createElement("div"));p.addClass("floating-wpp-button-image");p.append('<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="isolation:isolate" viewBox="0 0 800 800" width="65" height="65"><defs><clipPath id="_clipPath_A3g8G5hPEGG2L0B6hFCxamU4cc8rfqzQ"><rect width="800" height="800"/></clipPath></defs><g clip-path="url(#_clipPath_A3g8G5hPEGG2L0B6hFCxamU4cc8rfqzQ)"><g><path d=" M 787.59 800 L 12.41 800 C 5.556 800 0 793.332 0 785.108 L 0 14.892 C 0 6.667 5.556 0 12.41 0 L 787.59 0 C 794.444 0 800 6.667 800 14.892 L 800 785.108 C 800 793.332 794.444 800 787.59 800 Z " fill="rgb(37,211,102)"/></g><g><path d=" M 508.558 450.429 C 502.67 447.483 473.723 433.24 468.325 431.273 C 462.929 429.308 459.003 428.328 455.078 434.22 C 451.153 440.114 439.869 453.377 436.434 457.307 C 433 461.236 429.565 461.729 423.677 458.78 C 417.79 455.834 398.818 449.617 376.328 429.556 C 358.825 413.943 347.008 394.663 343.574 388.768 C 340.139 382.873 343.207 379.687 346.155 376.752 C 348.804 374.113 352.044 369.874 354.987 366.436 C 357.931 362.999 358.912 360.541 360.875 356.614 C 362.837 352.683 361.857 349.246 360.383 346.299 C 358.912 343.352 347.136 314.369 342.231 302.579 C 337.451 291.099 332.597 292.654 328.983 292.472 C 325.552 292.301 321.622 292.265 317.698 292.265 C 313.773 292.265 307.394 293.739 301.996 299.632 C 296.6 305.527 281.389 319.772 281.389 348.752 C 281.389 377.735 302.487 405.731 305.431 409.661 C 308.376 413.592 346.949 473.062 406.015 498.566 C 420.062 504.634 431.03 508.256 439.581 510.969 C 453.685 515.451 466.521 514.818 476.666 513.302 C 487.978 511.613 511.502 499.06 516.409 485.307 C 521.315 471.55 521.315 459.762 519.842 457.307 C 518.371 454.851 514.446 453.377 508.558 450.429 Z  M 401.126 597.117 L 401.047 597.117 C 365.902 597.104 331.431 587.661 301.36 569.817 L 294.208 565.572 L 220.08 585.017 L 239.866 512.743 L 235.21 505.332 C 215.604 474.149 205.248 438.108 205.264 401.1 C 205.307 293.113 293.17 205.257 401.204 205.257 C 453.518 205.275 502.693 225.674 539.673 262.696 C 576.651 299.716 597.004 348.925 596.983 401.258 C 596.939 509.254 509.078 597.117 401.126 597.117 Z  M 567.816 234.565 C 523.327 190.024 464.161 165.484 401.124 165.458 C 271.24 165.458 165.529 271.161 165.477 401.085 C 165.46 442.617 176.311 483.154 196.932 518.892 L 163.502 641 L 288.421 608.232 C 322.839 627.005 361.591 636.901 401.03 636.913 L 401.126 636.913 L 401.127 636.913 C 530.998 636.913 636.717 531.2 636.77 401.274 C 636.794 338.309 612.306 279.105 567.816 234.565" fill-rule="evenodd" fill="rgb(255,255,255)"/></g></g></svg>');
g.addClass("floating-wpp-button").css({width:a.size,height:a.size});g.append(p);c.append(g);d=d.replace("</body>",c[0].outerHTML+"\n </body>")}}return d}},events:{load:function(){},loadedProject:function(){if(e.projectSettings.chatbutton){if(e.projectSettings.chatbutton.enabled){var d=b(document.createElement("div"));d.addClass("floating-wpp");d.floatingWhatsAppLogo({size:"65px"});e.$template.find("body").append(d)}}else e.$template.find(".floating-wpp").remove()},shownSidebarProjectSettings:function(){function d(a,
c){b(a).contents().find("body").find("#chatbutton-wa").remove();b(a).contents().find("body").append('<div id="chatbutton-wa" ></div>');b("#chatbutton-wa").floatingWhatsApp(c);var d=e.projectSettings.chatbutton;b(a).contents().find("body").find("#chatbutton-wa").floatingWhatsApp({phone:d.phone,popupMessage:d.popupMessage,headerTitle:d.headerTitle,message:d.message,placeholder:d.placeholder,showPopup:!0,position:d.position,headerColor:d.headerColor,backgroundColor:d.backgroundColor,autoOpenTimeout:d.autoOpenTimeout,
size:d.size});b(a).contents().find("head").append('<link href="'+e.getAddonDir("chatbutton")+'/assets/floating-wpp-inAPP.css" rel=stylesheet>')}e.projectSettings.chatbutton||(e.projectSettings.chatbutton={});b("#chatbuttonSwitcher").change(function(){if(b(this).prop("checked")){e.projectSettings.chatbutton=Object.assign({},r);e.projectSettings.chatbutton.enabled=!0;document.getElementById("chatbuttonButton").click();var a=e.projectSettings.chatbutton||{};if(a.enabled){if(!e.isAMP()){var c=b('<div id="chatbutton-wa">');
b("#chatbuttonButton").parents(".form-group").show();b("#chatbuttonPopup").closest(".form-group").show();b("#chatbutton-phone").closest(".form-group").show();c.attr("data-phone",a.phone);a.showPopup&&c.attr("data-showpopup",a.showPopup);a.headerTitle&&c.attr("data-headertitle",a.headerTitle);a.popupMessage&&c.attr("data-popupmessage",a.popupMessage);a.placeholder&&c.attr("data-placeholder",a.placeholder);a.message&&c.attr("data-message",a.message);a.position&&c.attr("data-position",a.position);a.headerColor&&
c.attr("data-headerColor",a.headerColor);a.backgroundColor&&c.attr("data-backgroundColor",a.backgroundColor);a.autoOpenTimeout&&c.attr("data-autoOpenTimeout",a.autoOpenTimeout);a.size&&c.attr("data-size",a.size)}c=b(document.createElement("div"));c.addClass("floating-wpp");c.floatingWhatsAppLogo({size:a.size});e.$template.find("body").append(c)}}else delete e.projectSettings.chatbutton,b("#chatbuttonButton").closest(".form-group").hide(),e.$template.find(".floating-wpp").hide()});b("#chatbuttonButton").on("click",
function(){function a(a){a.matches&&(b(".chatpappDialog .modal-dialog").addClass("w-100"),b(".chatpappDialog .row").css("display","block"));a.matches||(b(".chatpappDialog .modal-dialog").removeClass("w-100"),b(".chatpappDialog .row").css("display","flex"))}var c=Object.assign({},e.projectSettings.chatbutton);e.showDialog({title:f("Chat Button Settings"),className:"chatpappDialog",size:"large",body:'<div class="row" style="display: flex; "><div class="col-lg-7 col-md-7 col-sm-12"><div class="form-group col-md-12"'+
(c.enabled?">":' style="display:none">')+'<label for="chatbutton-phone" class="control-label">'+f("Phone")+'</label><input id="chatbutton-phone" name="chatbutton-phone" placeholder="'+f("Enter the phone number connected to WhatsApp")+'" class="form-control"></div><div class="form-group col-md-12"'+(c.enabled?">":' style="display:none">')+'<div class="row"><label for="chatbuttonPopup" class="col control-label">'+f("Popup")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="chatbutton" id="chatbuttonPopup" '+
(c.showPopup?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12"'+(c.enabled&&c.showPopup?">":' style="display:none">')+'<label for="chatbuttonHeader" class="control-label">'+f("Title")+'</label><input id="chatbuttonHeader" name="chatbuttonHeader" placeholder="'+f("Enter title")+'" class="form-control"></div><div class="form-group col-md-12"'+(c.enabled&&c.showPopup?">":' style="display:none">')+'<label for="chatbuttonPopMessage" class="control-label">'+
f("Message")+'</label><textarea id="chatbuttonPopMessage" name="chatbuttonPopMessage" placeholder="'+f("Enter message")+'" class="form-control" style="height:155px;"></textarea></div><div class="form-group col-md-12"'+(c.enabled&&c.showPopup?">":' style="display:none">')+'<label for="chatbuttonPlaceholder" class="control-label">'+f("Placeholder")+'</label><input id="chatbuttonPlaceholder" name="chatbuttonPlaceholder" placeholder="'+f("Type here")+'" class="form-control"></div><div class="form-group col-md-12 app-layer-color"'+
(c.enabled&&c.showPopup?">":' style="display:none" data-setting-type="color">')+'<div class="row"><div class="col"><label for="chatbuttonHeaderColor" class="control-label">'+f("Color")+'</label><input class="mbr-color" type="text" id="chatbuttonHeaderColor" type="color" name="chatbuttonHeaderColor" value="'+c.headerColor+'"></div></div></div><div class="form-group col-md-12 app-layer-color"'+(c.enabled&&c.showPopup?">":' style="display:none" data-setting-type="color">')+'<div class="row"><div class="col"><label for="chatbuttonBackgroundColor" class="control-label">'+
f("Background Color")+'</label><input class="mbr-color" type="text" id="chatbuttonBackgroundColor" type="color" name="chatbuttonBackgroundColor" value="'+c.backgroundColor+'"></div></div></div>'+(e.isAMP()?"":'<div class="form-group col-md-12"'+(c.enabled&&c.showPopup?">":' style="display:none">')+'<label for="chatbuttonAutoOpenTimeout" class="control-label">'+f("Auto-open Popup Timeout, sec")+'</label><input id="chatbuttonAutoOpenTimeout" name="chatbuttonAutoOpenTimeout" placeholder="'+f("Enter an amount of time in milliseconds")+
'" class="form-control"><small class="form-text text-muted">'+f("If zero, the auto-open is disabled.")+"</small></div>")+'</div><div class="col-lg-5 col-md-5 col-sm-12" style="display:flex; align-items:center;"><iframe src="javascript:\'\'" id="iframeChat" class="" style="width: 100%; height: 370px; border: none; margin-top: 10px"></div></div>',buttons:[{label:"save",default:!0,callback:function(){}}],show:function(a){var c=e.projectSettings.chatbutton;b("#chatbuttonButton").parents(".form-group").show();
b("#chatbutton-phone").val(c.phone||"");b("#chatbuttonPopup").val(c.showPopup||"true");b("#chatbuttonHeader").val(c.headerTitle||"\ud83d\udc4b Chat with us on WhatsApp!");b("#chatbuttonPopMessage").val(c.popupMessage||"Hey there!\ud83d\udc4b\n\nGet in touch with us by typing a message here. It will go straight to our phone! \ud83d\udd25\n\n~Mobirise Team");b("#chatbuttonPlaceholder").val(c.placeholder||"Type here");b("#chatbuttonHeaderColor").val(c.headerColor||"#39847a");b("#chatbuttonBackgroundColor").val(c.backgroundColor||
"#e5ddd5");b("#chatbuttonAutoOpenTimeout").val(c.autoOpenTimeout||0);var f=a.find("#iframeChat");f.on("load",function(){var c=f.contents().find("body");a.find("#chatbuttonHeader, #chatbuttonPopMessage, #chatbuttonPlaceholder, #chatbuttonHeaderColor, #chatbuttonBackgroundColor, #chatbuttonAutoOpenTimeout").on("change",function(){var a=n(),b;b=c.find("#chatbutton-wa");b.find(".floating-wpp-head").css({"background-color":a.headerColor});b.find(".floating-wpp-popup").css({"background-color":a.backgroundColor});
b.find(".floating-wpp-input-message").css({"background-color":a.backgroundColor});b.find("circle").css({fill:a.headerColor})});a.find("#chatbuttonHeader").on("keyup",function(){c.find(".floating-wpp-head span").html(this.value);a.find("#chatbutton-phone, #chatbuttonHeader, #chatbuttonPopMessage, #chatbuttonPlaceholder, #chatbuttonHeaderColor, #chatbuttonBackgroundColor, #chatbuttonAutoOpenTimeout").trigger("change");var b=e.$body.find(".chatpappDialog  #iframeChat");k(b)});a.find("#chatbuttonPlaceholder").on("keyup",
function(){c.find(".floating-wpp-input-message textarea").attr("placeholder",this.value);a.find("#chatbutton-phone, #chatbuttonHeader, #chatbuttonPopMessage, #chatbuttonPlaceholder, #chatbuttonHeaderColor, #chatbuttonBackgroundColor, #chatbuttonAutoOpenTimeout").trigger("change");var b=e.$body.find(".chatpappDialog  #iframeChat");k(b)});a.find("#chatbuttonPopMessage").on("keyup",function(){c.find(".floating-wpp-message").html(m(this.value));a.find("#chatbutton-phone, #chatbuttonHeader, #chatbuttonPopMessage, #chatbuttonPlaceholder, #chatbuttonHeaderColor, #chatbuttonBackgroundColor, #chatbuttonAutoOpenTimeout").trigger("change");
var b=e.$body.find(".chatpappDialog  #iframeChat");k(b)});var h=n();!0===h.chatbuttonPopup&&(b("#headerSectionTitle").show(),b("#chatbuttonHeader").closest(".form-group").show(),b("#chatbuttonPopMessage").closest(".form-group").show(),b("#chatbuttonHeaderColor").closest(".form-group").show(),b("#chatbuttonBackgroundColor").closest(".form-group").show(),b("#chatbuttonAutoOpenTimeout").closest(".form-group").show(),b("#iframeChat").show(),e.projectSettings.chatbutton.showPopup=!0);d(f,h)});b("#chatbuttonPopup").on("change",
function(){var a=e.$body.find(".chatpappDialog  #iframeChat");b(this).prop("checked")?(b("#headerSectionTitle").show(),b("#chatbuttonHeader").closest(".form-group").show(),b("#chatbuttonPopMessage").closest(".form-group").show(),b("#chatbuttonHeaderColor").closest(".form-group").show(),b("#chatbuttonBackgroundColor").closest(".form-group").show(),b("#chatbuttonAutoOpenTimeout").closest(".form-group").show(),b("#iframeChat").show(),e.projectSettings.chatbutton.showPopup=!0,k(a)):(b("#headerSectionTitle").hide(),
b("#chatbuttonHeader").closest(".form-group").hide(),b("#chatbuttonPopMessage").closest(".form-group").hide(),b("#chatbuttonHeaderColor").closest(".form-group").hide(),b("#chatbuttonBackgroundColor").closest(".form-group").hide(),b("#chatbuttonAutoOpenTimeout").closest(".form-group").hide(),b("#iframeChat").hide(),e.projectSettings.chatbutton.showPopup=!1);var c=n();d(a,c)});b("#chatbutton-phone").on("change",function(a){e.projectSettings.chatbutton.phone=a.target.value});b("#chatbuttonHeader").on("change",
function(a){e.projectSettings.chatbutton.headerTitle=a.target.value});b("#chatbuttonPopMessage").on("change",function(a){e.projectSettings.chatbutton.popupMessage=a.target.value});b("#chatbuttonPlaceholder").on("change",function(a){e.projectSettings.chatbutton.placeholder=a.target.value});b("#chatbuttonHeaderColor").on("change",function(a){e.projectSettings.chatbutton.headerColor=a.target.value});b("#chatbuttonBackgroundColor").on("change",function(a){e.projectSettings.chatbutton.backgroundColor=
a.target.value});b("#chatbuttonAutoOpenTimeout").on("change",function(a){e.projectSettings.chatbutton.autoOpenTimeout=a.target.value})}});c=window.matchMedia("(max-width: 992px)");c.addListener(a);a(c);b("#chatbuttonButton").parents(".form-group").show();b("#chatbuttonPopup").closest(".form-group").show();b("#chatbutton-phone").closest(".form-group").show()})}}})},["jQuery","mbrApp","TR()"]);
